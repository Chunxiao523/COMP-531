{"version":3,"sources":["webpack:///webpack/bootstrap 5efe26dcd468525d2336","webpack:///./src/index.js","webpack:///./src/particle.js"],"names":["window","onload","canvas","document","getElementById","c","getContext","frameUpdate","cb","rAF","time","requestAnimationFrame","diff","lastTime","log","msg","x","y","height","pt","font","fillStyle","fillText","particles","Array","fill","map","dt","p","fillRect","width","forEach","position","mass","beginPath","arc","Math","PI","toFixed","random","min","max","particle","velocity","acceleration","update","delta","v_x","v_y","a_x","a_y"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5efe26dcd468525d2336\n **/","import particle from './particle'  //single function\nimport { update } from './particle' //multifunction\n\nwindow.onload = () => {\n    const canvas = document.getElementById('app')\n    const c = canvas.getContext(\"2d\")\n\n    const frameUpdate = (cb) => {\n        const rAF = (time) => {\n            requestAnimationFrame(rAF)\n            const diff = ~~(time - (rAF.lastTime || 0)) // ~~ is like floor\n            cb(diff)\n            rAF.lastTime = time\n        }\n        rAF() // go!\n    }\n\n    const log = (msg) => {\n        if (!msg) { log.x = 30; log.y = canvas.height }\n        const pt = 16\n        c.font = `${pt}px Courier`\n        c.fillStyle = \"white\"\n        c.fillText(msg, log.x, log.y)\n        log.y = log.y - (4 + pt)\n    }\n\n    let particles = Array(5).fill(true).map(() => particle())\n\n    frameUpdate((dt) => {\n        particles = particles.map((p) => update(p, dt, canvas))\n\n        log()\n        c.fillStyle = '#000'\n        c.fillRect(0, 0, canvas.width, canvas.height)\n\n        particles.forEach(({position, mass}) => {\n            const [x, y] = position\n            c.fillStyle = 'red'\n            c.beginPath()\n            c.arc(x, y, mass, 0, 2 * Math.PI)\n            c.fill()\n            log(`(${mass.toFixed(2)}) @ (${x.toFixed(6)}, ${y.toFixed(6)})`)\n        })\n    })\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","const random = (min=0, max=800) =>\n    Math.random() * (max - min) + min\n\n// default values\nconst particle = ({\n    mass=random(5, 30),\n    position=[random(), random()],\n    velocity=[random(-0.1, 0.1), random(-0.1, 0.1)],\n    acceleration=[0, 0]\n}) => {\n    return {acceleration, velocity, position, mass}\n}\n\nconst update = ({acceleration, velocity, position, mass}, delta, {width, height}) => {\n\tvar [x,y] = position\n\tvar [v_x, v_y] = velocity\n\tvar [a_x, a_y] = acceleration\n\tv_x += a_x*delta\n\tv_y += a_y*delta\n\tposition[0] += velocity[0] * delta\n\tposition[1] += velocity[1] * delta\n\n\tif (position[0] >= width){\n\t\tposition[0] = width - position[0] % width\n\t\tv_x = - v_x\n\t}\n\n\tif(position[0] < 0) {\n\t\tposition[0] = - position[0] \n\t\tv_x = - v_x\n\t}\n\t\tif (position[1] >= height){\n\t\tposition[1] = height - position[1] % height\n\t\tv_y = - v_y\n\t}\n\n\tif(position[1] < 0) {\n\t\tposition[1] = - position[1]\n\t\tv_y = - v_y\n\t}\n\t// if ((x + v_x * delta + mass) >= canvas.width){\n\t// \tx = canvas.width - mass\n\t// \tv_x = - v_x\n\t// } else {\n\t// \tx = x + v_x * delta \n\t// }\n\n\t// if (x + v_x * delta + mass <= 0){\n\t// \tx = mass\n\t// \tv_x = - v_x\n\t// } else {\n\t// \tx = x + v_x * delta\n\t// }\n\n\t// if (y + v_y * delta + mass >= canvas.height){\n\t// \ty = canvas.height - mass\n\t// \tv_y = - v_y\n\t// } else {\n\t// \ty = x + v_y * delta \n\t// }\n\n\t// if (y + v_y * delta + mass <= 0){\n\t// \ty = mass\n\t// \tv_y = - v_y\n\t// } else {\n\t// \ty = y + v_y * delta\n\t// }\n\n\tvelocity = [v_x, v_y]\n\t//position = [x, y]\n\tacceleration = [a_x, a_y]\n\n    return { mass, acceleration, velocity, position }\n}\n\nexport default particle\n\nexport { update }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/particle.js\n **/"],"sourceRoot":""}